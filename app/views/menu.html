<div data-role="view" id="popular" data-title="Menu" data-layout="main" data-init="app.Menu.popularInit" data-show="app.Menu.showMenuView" data-model="app.Menu">
    <header data-role="header">
        <div data-role="navbar">
            <span data-role="view-title"></span>
            <a data-role="button" href="#appDrawer" data-rel="drawer" data-align="left" data-icon="menu"></a>
            <a data-role="button" href="#" id="view-changer" data-bind="click: changeView, visible: inListView"  data-icon="th-large" data-align="right" ></a>
            <a data-role="button" href="#" id="view-changer" data-bind="click: changeView, invisible: inListView"  data-icon="list-bullet" data-align="right" ></a>
            <a data-role="button" class="orange" href="views/claim-your-prize.html" data-icon="award" data-align="right" data-transition="overlay:down"></a>
        </div>
    </header>
    <div id="menu-nav" data-role="tabstrip" data-bind="events: { select: changeView }">
        <a data-target="popular">Popular</a>
        <a data-target="favorites">Favorites</a>
        <a data-target="categories">Categories</a>
    </div>    
    <div class="category-selectors" data-bind="visible: categoriesVisible">
        <div class="half">
            <ul data-role="listview">
                <li>Barbecue <input id="mobile-switch" data-role="switch" data-bind="events: { change: changeFilter }, checked: show.bbq" data-on-label="Yes" data-off-label="No" data-filter="bbq" /></li>
                <li>Sandwiches <input id="mobile-switch" data-role="switch" data-bind="events: { change: changeFilter }, checked: show.sandwiches" data-on-label="Yes" data-off-label="No" data-filter="sandwich" /></li>
            </ul>
        </div>  
        <div class="half">
            <ul data-role="listview">
                <li>Drinks <input id="mobile-switch" data-role="switch" data-bind="events: { change: changeFilter }, checked: show.drinks" data-on-label="Yes" data-off-label="No" data-filter="drinks" /></li>
                <li>Desserts <input id="mobile-switch" data-role="switch" data-bind="events: { change: changeFilter }, checked: show.desserts" data-on-label="Yes" data-off-label="No" data-filter="desert" /></li>
            </ul>
        </div>
        <div>
            <ul data-role="listview">
                <li>
                    Sort
                    <select id="sort" data-bind="events: { change: changeSort }">
                        <option value="asc">cheapest to most expensive</option>
                        <option value="desc">most expensive to cheapest</option>
                    </select>
                </li>
            </ul>
        </div>
    </div>
    <!-- <div id="popular" data-bind="visible: currentView.popular"> -->
    <ul id="popular-list" data-role="listview"
            data-bind="source:dataSource, invisible: photoListVisible"
            data-template="menuTemplate">
    </ul>
        <!-- <ul id="popular-photo-list" data-role="listview"
                data-bind="source: dataSource, visible: photoListVisible"
                data-template="photoMenuTemplate" data-auto-bind="false">
        </ul> -->
    </div>
</div>
    

<script type="text/x-kendo-template" id="menuTemplate">
    <div class="row menu-row">
        <a href="\#views/menu-details.html?id=#= data.id #">
            <img width="80" height="80" class="resimgs" data-src="#: data.imgSrc #" />
         
        </a>   
            <div class="menu-buttons">
                 #if (data.incart)  { #
                    <span data-role="touch" data-bind="events: { tap: addToCart }" class="orange">x<span class="icon-cart">#: data.qty # </span></span>
                # } else { #
                    <span data-role="touch" data-bind="events: { tap: addToCart }"  ><span class="icon-cart"> </span></span>
                # } #   
                #if (data.favorited)  { #
                    <span data-role="touch" data-bind="events: { tap: removeFromFavorites }"><span class="icon-star orange"></span></span>
                # } else { #
                    <span data-role="touch" data-bind="events: { tap: addToFavorites }"><span class="icon-star"></span></span>
                # } #
                
            </div>
            <div class="menu-block">
                <span class="title">#: data.title #</span><br />
                <span class="price">#: kendo.toString(data.price, "c") #</span>
            </div>
    </div>
</script>
<script type="text/x-kendo-template" id="photoMenuTemplate">
    <div class="row photo-menu-row">
        <div class="photo-menu-box">
            <a href="\#views/menu-details.html?id=#= data.id #">
                <img class="photo-img resimgs" data-src="#: data.imgSrc #" />
                
                <div class="menu-block">
                    <h4>#: data.title #</h4>
                    <div class="right">
                 #if (data.incart)  { #
                    <span data-role="touch" data-bind="events: { tap: addToCart }" class="orange">x<span class="icon-cart">#: data.qty # </span></span>
                # } else { #
                    <span data-role="touch" data-bind="events: { tap: addToCart }"  ><span class="icon-cart"> </span></span>
                # } #   
                #if (data.favorited)  { #
                    <span data-role="touch" data-bind="events: { tap: removeFromFavorites }"><span class="icon-star orange"></span></span>
                # } else { #
                    <span data-role="touch" data-bind="events: { tap: addToFavorites }"><span class="icon-star"></span></span>
                # } #
                    </div>
                    <span class="photo-price">$#: data.price #</span>
                </div>
            </a>
        </div>
    </div>
</script>